generator client {
  provider = "prisma-client"
  output   = "../src/lib/prisma"
}

generator zod {
  provider = "prisma-zod-generator"
}

datasource db {
  provider = "postgresql"
}

enum Status {
  OPEN
  CLOSE
  IN_PROGRESS
}

model Category {
  id   Int    @id @default(autoincrement())
  uuid String @unique @default(uuid(7))

  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  name        String   @unique @db.VarChar(255)
  description String?
  status      Status
  statuses    Status[]

  parent   Category? @relation("children", fields: [parentId], references: [id])
  parentId Int?

  children Category[] @relation("children")
}
